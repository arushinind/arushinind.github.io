<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina | Aesthetic News</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400&display=swap" rel="stylesheet">
    
    <!-- Phosphor Icons (Lightweight, beautiful icons) -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- Tailwind Configuration -->
    <script>
        // Robust configuration setup to handle async loading
        function configureTailwind() {
            if (typeof tailwind !== 'undefined') {
                tailwind.config = {
                    darkMode: 'class',
                    theme: {
                        extend: {
                            fontFamily: {
                                sans: ['Inter', 'sans-serif'],
                                serif: ['Playfair Display', 'serif'],
                            },
                            colors: {
                                'glass': 'rgba(255, 255, 255, 0.7)',
                                'glass-dark': 'rgba(24, 24, 27, 0.7)',
                                'accent': '#d97706', // Amber-600
                            },
                            animation: {
                                'fade-in': 'fadeIn 0.8s ease-out forwards',
                                'slide-up': 'slideUp 0.6s ease-out forwards',
                            },
                            keyframes: {
                                fadeIn: {
                                    '0%': { opacity: '0' },
                                    '100%': { opacity: '1' },
                                },
                                slideUp: {
                                    '0%': { opacity: '0', transform: 'translateY(20px)' },
                                    '100%': { opacity: '1', transform: 'translateY(0)' },
                                }
                            }
                        }
                    }
                };
            } else {
                // Retry shortly if tailwind object is not yet available
                setTimeout(configureTailwind, 50);
            }
        }
        configureTailwind();
    </script>

    <style>
        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: transparent;
        }
        ::-webkit-scrollbar-thumb {
            background: #d1d5db;
            border-radius: 4px;
        }
        .dark ::-webkit-scrollbar-thumb {
            background: #4b5563;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #9ca3af;
        }

        /* Glassmorphism Utilities */
        .glass-panel {
            background: rgba(255, 255, 255, 0.65);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        .dark .glass-panel {
            background: rgba(24, 24, 27, 0.65);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Text selection color */
        ::selection {
            background: #fbbf24;
            color: #1f2937;
        }

        /* Image Hover Zoom */
        .img-zoom-container {
            overflow: hidden;
        }
        .img-zoom-container img {
            transition: transform 0.7s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }
        .card-hover:hover .img-zoom-container img {
            transform: scale(1.05);
        }
        
        /* Loader */
        #loader {
            position: fixed;
            inset: 0;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #fafaf9;
            transition: opacity 0.5s ease;
        }
        .dark #loader {
            background-color: #09090b;
        }
    </style>
</head>
<body class="bg-stone-100 dark:bg-zinc-950 text-stone-800 dark:text-stone-200 transition-colors duration-500 antialiased">

    <!-- Page Loader -->
    <div id="loader">
        <div class="flex flex-col items-center animate-pulse">
            <h1 class="font-serif text-4xl italic text-stone-800 dark:text-stone-100">Lumina.</h1>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="fixed w-full z-50 top-0 transition-all duration-300" id="navbar">
        <div class="glass-panel mx-auto px-6 py-4">
            <div class="max-w-7xl mx-auto flex justify-between items-center">
                <!-- Logo -->
                <a href="#" class="text-2xl font-serif font-bold italic tracking-tight flex items-center gap-2 group" onclick="filterNews('all')">
                    <i class="ph-fill ph-newspaper-clipping text-amber-500 group-hover:rotate-12 transition-transform"></i>
                    Lumina
                </a>

                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-8 items-center text-sm font-medium uppercase tracking-wider">
                    <button onclick="filterNews('all')" class="hover:text-amber-600 transition-colors active-nav">All</button>
                    <button onclick="filterNews('design')" class="hover:text-amber-600 transition-colors">Design</button>
                    <button onclick="filterNews('tech')" class="hover:text-amber-600 transition-colors">Tech</button>
                    <button onclick="filterNews('culture')" class="hover:text-amber-600 transition-colors">Culture</button>
                    <button onclick="filterNews('nature')" class="hover:text-amber-600 transition-colors">Nature</button>
                </div>

                <!-- Right Actions -->
                <div class="flex items-center gap-4">
                    <!-- Search Toggle -->
                    <button onclick="toggleSearch()" class="p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors">
                        <i class="ph ph-magnifying-glass text-xl"></i>
                    </button>
                    
                    <!-- Theme Toggle -->
                    <button onclick="toggleTheme()" class="p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors" aria-label="Toggle Dark Mode">
                        <i class="ph ph-moon text-xl dark:hidden"></i>
                        <i class="ph ph-sun text-xl hidden dark:block"></i>
                    </button>

                    <!-- Mobile Menu Button -->
                    <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-full hover:bg-black/5 dark:hover:bg-white/10 transition-colors">
                        <i class="ph ph-list text-xl"></i>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Search Bar (Hidden by default) -->
        <div id="search-bar" class="hidden absolute w-full glass-panel border-t-0 z-40 animate-slide-up">
            <div class="max-w-3xl mx-auto py-4 px-6">
                <input type="text" id="search-input" placeholder="Type to search articles..." 
                       class="w-full bg-transparent border-b-2 border-stone-300 dark:border-stone-700 text-2xl font-serif italic focus:outline-none focus:border-amber-500 py-2"
                       onkeyup="handleSearch(event)">
            </div>
        </div>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="hidden md:hidden glass-panel border-t-0 absolute w-full z-40">
            <div class="flex flex-col p-6 space-y-4 text-center font-serif text-lg">
                <button onclick="filterNews('all'); toggleMobileMenu()" class="hover:text-amber-500">All Stories</button>
                <button onclick="filterNews('design'); toggleMobileMenu()" class="hover:text-amber-500">Design</button>
                <button onclick="filterNews('tech'); toggleMobileMenu()" class="hover:text-amber-500">Technology</button>
                <button onclick="filterNews('culture'); toggleMobileMenu()" class="hover:text-amber-500">Culture</button>
                <button onclick="filterNews('nature'); toggleMobileMenu()" class="hover:text-amber-500">Nature</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="pt-24 pb-12 px-4 sm:px-6">
        
        <!-- Date Display -->
        <div class="max-w-7xl mx-auto mb-8 flex items-center justify-center md:justify-start opacity-0 animate-fade-in" style="animation-delay: 0.2s;">
            <span class="text-xs font-bold tracking-[0.2em] uppercase text-amber-600 dark:text-amber-400" id="current-date"></span>
        </div>

        <!-- Hero Section -->
        <div id="hero-container" class="max-w-7xl mx-auto mb-16 opacity-0 animate-fade-in" style="animation-delay: 0.3s;">
            <!-- Injected via JS -->
        </div>

        <!-- Trending Ticker -->
        <div class="max-w-7xl mx-auto mb-12 overflow-hidden whitespace-nowrap border-y border-stone-200 dark:border-stone-800 py-3 opacity-0 animate-fade-in" style="animation-delay: 0.4s;">
            <div class="inline-block animate-marquee" id="ticker-content">
                <span class="mx-4 text-sm font-medium uppercase tracking-wide text-stone-500">Breaking:</span>
                <span class="mx-4 font-serif italic">Design Week 2024 dates announced</span> •
                <span class="mx-4 font-serif italic">SpaceX launches new sustainable rocket</span> •
                <span class="mx-4 font-serif italic">Minimalism in the age of AI</span> •
                <span class="mx-4 font-serif italic">The return of analog photography</span> •
            </div>
        </div>

        <!-- Section Title -->
        <div class="max-w-7xl mx-auto mb-8 flex justify-between items-end border-b border-stone-300 dark:border-stone-700 pb-2 opacity-0 animate-fade-in" style="animation-delay: 0.5s;">
            <h2 class="text-3xl md:text-4xl font-serif italic" id="category-title">Latest Stories</h2>
            <div class="hidden md:flex gap-2 text-sm text-stone-500">
                <span>Sort by:</span>
                <select class="bg-transparent focus:outline-none cursor-pointer font-medium hover:text-stone-800 dark:hover:text-stone-200" onchange="sortArticles(this.value)">
                    <option value="newest">Newest</option>
                    <option value="oldest">Oldest</option>
                </select>
            </div>
        </div>

        <!-- Article Grid -->
        <div id="news-grid" class="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 opacity-0 animate-fade-in" style="animation-delay: 0.6s;">
            <!-- Articles injected here -->
        </div>
        
        <!-- Empty State -->
        <div id="empty-state" class="hidden max-w-7xl mx-auto text-center py-20">
            <i class="ph ph-magnifying-glass text-4xl text-stone-400 mb-4"></i>
            <h3 class="text-xl font-serif italic">No stories found.</h3>
            <p class="text-stone-500 mt-2">Try adjusting your search terms.</p>
        </div>

    </main>

    <!-- Footer -->
    <footer class="border-t border-stone-200 dark:border-stone-800 mt-12 bg-stone-50 dark:bg-black pt-16 pb-8">
        <div class="max-w-7xl mx-auto px-6 grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
            <div class="col-span-1 md:col-span-2">
                <a href="#" class="text-3xl font-serif font-bold italic mb-6 block">Lumina.</a>
                <p class="text-stone-500 max-w-md leading-relaxed">
                    Curating the aesthetic of tomorrow. We bring you the most visually stunning and intellectually stimulating stories from around the globe.
                </p>
                <div class="flex gap-4 mt-6">
                    <a href="#" class="w-10 h-10 rounded-full border border-stone-300 dark:border-stone-700 flex items-center justify-center hover:bg-stone-200 dark:hover:bg-stone-800 transition-colors"><i class="ph-fill ph-twitter-logo"></i></a>
                    <a href="#" class="w-10 h-10 rounded-full border border-stone-300 dark:border-stone-700 flex items-center justify-center hover:bg-stone-200 dark:hover:bg-stone-800 transition-colors"><i class="ph-fill ph-instagram-logo"></i></a>
                    <a href="#" class="w-10 h-10 rounded-full border border-stone-300 dark:border-stone-700 flex items-center justify-center hover:bg-stone-200 dark:hover:bg-stone-800 transition-colors"><i class="ph-fill ph-linkedin-logo"></i></a>
                </div>
            </div>
            <div>
                <h4 class="font-bold uppercase tracking-wider text-xs mb-6 text-stone-400">Categories</h4>
                <ul class="space-y-3 text-sm font-medium">
                    <li><a href="#" onclick="filterNews('design')" class="hover:text-amber-600 transition-colors">Design & Art</a></li>
                    <li><a href="#" onclick="filterNews('tech')" class="hover:text-amber-600 transition-colors">Technology</a></li>
                    <li><a href="#" onclick="filterNews('culture')" class="hover:text-amber-600 transition-colors">Culture</a></li>
                    <li><a href="#" onclick="filterNews('nature')" class="hover:text-amber-600 transition-colors">Sustainability</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-bold uppercase tracking-wider text-xs mb-6 text-stone-400">Newsletter</h4>
                <p class="text-xs text-stone-500 mb-4">Get the weekly digest. No spam, just aesthetics.</p>
                <div class="flex flex-col gap-2">
                    <input type="email" placeholder="Your email address" class="bg-transparent border-b border-stone-300 dark:border-stone-700 py-2 focus:outline-none focus:border-amber-500 text-sm">
                    <button class="mt-2 text-left text-xs font-bold uppercase tracking-widest hover:text-amber-600 transition-colors">Subscribe &rarr;</button>
                </div>
            </div>
        </div>
        <div class="text-center text-xs text-stone-400 border-t border-stone-200 dark:border-stone-800 pt-8">
            &copy; 2024 Lumina News. All rights reserved.
        </div>
    </footer>

    <!-- Article Modal -->
    <div id="article-modal" class="fixed inset-0 z-[60] hidden" aria-labelledby="modal-title" role="dialog" aria-modal="true">
        <!-- Backdrop -->
        <div class="fixed inset-0 bg-stone-900/80 backdrop-blur-sm transition-opacity opacity-0" id="modal-backdrop" onclick="closeModal()"></div>

        <!-- Panel -->
        <div class="fixed inset-0 z-10 overflow-y-auto">
            <div class="flex min-h-full items-center justify-center p-4 text-center sm:p-0">
                <div class="relative transform overflow-hidden bg-stone-50 dark:bg-zinc-900 text-left shadow-2xl transition-all sm:my-8 sm:w-full sm:max-w-4xl opacity-0 translate-y-4 scale-95 duration-300 ease-out rounded-none md:rounded-lg border border-stone-200 dark:border-stone-700" id="modal-panel">
                    
                    <!-- Close Button -->
                    <button onclick="closeModal()" class="absolute right-4 top-4 z-20 p-2 bg-white/50 dark:bg-black/50 rounded-full hover:bg-white dark:hover:bg-black transition-colors backdrop-blur-md">
                        <i class="ph ph-x text-xl"></i>
                    </button>

                    <!-- Modal Content -->
                    <div id="modal-content-wrapper">
                        <!-- Injected via JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script>
        // --- Mock Data ---
        const articles = [
            {
                id: 1,
                title: "The Silence of Nordic Architecture",
                category: "design",
                author: "Elena Fisher",
                date: "Oct 24, 2024",
                timeToRead: "5 min",
                image: "https://images.unsplash.com/photo-1486718448742-166426669675?q=80&w=2070&auto=format&fit=crop",
                excerpt: "Exploring how cold climates shape warm, minimalist interiors in modern Scandinavia.",
                content: "<p class='first-letter:text-5xl first-letter:float-left first-letter:mr-3 first-letter:font-serif first-letter:text-amber-600'>W</p><p class='mb-4 text-lg leading-relaxed text-stone-600 dark:text-stone-300'>When we think of Nordic design, we often think of furniture. But the true essence lies in the architecture itself—the way light is captured in a region where it is scarce, and how silence is built into the walls.</p><p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>Modern architects in Norway and Sweden are pushing boundaries by using sustainable timber that ages gracefully, turning grey to match the rocky landscapes. It is a study in blending in, rather than standing out.</p><blockquote class='border-l-4 border-amber-500 pl-4 italic font-serif text-xl my-8 text-stone-800 dark:text-stone-100'>“Architecture should speak of its time and place, but yearn for timelessness.”</blockquote><p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>This philosophy extends to the interiors, where 'hygge' is not just a concept but a spatial requirement. Open hearths, sheepskin textures, and raw concrete meet to create a sanctuary from the harsh winters.</p>",
                featured: true
            },
            {
                id: 2,
                title: "Neural Networks & Digital Art",
                category: "tech",
                author: "Marcus Chen",
                date: "Oct 22, 2024",
                timeToRead: "8 min",
                image: "https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?q=80&w=1974&auto=format&fit=crop",
                excerpt: "Is AI killing creativity or birthing a new Renaissance? A deep dive into generative art.",
                content: "<p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>The gallery was silent, but the screens were alive. Swirling colors generated by algorithms danced across the LED panels. This is the new frontier of art, where the brush is code and the canvas is infinite.</p>",
                featured: false
            },
            {
                id: 3,
                title: "Slow Coffee Culture in Tokyo",
                category: "culture",
                author: "Suki Yamamoto",
                date: "Oct 21, 2024",
                timeToRead: "6 min",
                image: "https://images.unsplash.com/photo-1497935586351-b67a49e012bf?q=80&w=2071&auto=format&fit=crop",
                excerpt: "In the world's busiest city, small kissaten shops preserve the art of the hand-pour.",
                content: "<p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>Hidden in the back alleys of Shibuya, there are places where time stands still. The smell of aged beans and old wood permeates the air. Here, coffee is not a fuel; it is a ritual.</p>",
                featured: false
            },
            {
                id: 4,
                title: "Rewilding the Urban Jungle",
                category: "nature",
                author: "David Attenborough Jr.",
                date: "Oct 20, 2024",
                timeToRead: "4 min",
                image: "https://images.unsplash.com/photo-1518531933037-91b2f5f229cc?q=80&w=1527&auto=format&fit=crop",
                excerpt: "Singapore's vertical gardens are setting a blueprint for the green cities of the future.",
                content: "<p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>Concrete gray is being replaced by vibrant green. Vertical forests are not just aesthetic choices; they lower city temperatures and improve mental health.</p>",
                featured: false
            },
            {
                id: 5,
                title: "The Return of Vinyl",
                category: "culture",
                author: "Jack White",
                date: "Oct 19, 2024",
                timeToRead: "5 min",
                image: "https://images.unsplash.com/photo-1603048588665-791ca8aea616?q=80&w=2070&auto=format&fit=crop",
                excerpt: "Why Gen Z is flocking to record stores in search of tangible music experiences.",
                content: "<p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>In an era of streaming, the crackle of a needle dropping on vinyl feels revolutionary. It demands attention. You cannot skip tracks; you must listen to the journey.</p>",
                featured: false
            },
            {
                id: 6,
                title: "Abstract Typography Trends",
                category: "design",
                author: "Sarah Kern",
                date: "Oct 18, 2024",
                timeToRead: "3 min",
                image: "https://images.unsplash.com/photo-1561070791-2526d30994b5?q=80&w=2000&auto=format&fit=crop",
                excerpt: "When letters become shapes: 2025's boldest graphic design predictions.",
                content: "<p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>Legibility is taking a backseat to expression. Designers are stretching, warping, and melting type to convey emotion rather than just information.</p>",
                featured: false
            },
             {
                id: 7,
                title: "Quantum Computing for Dummies",
                category: "tech",
                author: "Dr. R. Feynman",
                date: "Oct 17, 2024",
                timeToRead: "10 min",
                image: "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=2070&auto=format&fit=crop",
                excerpt: "Understanding the qubit revolution without a PhD in physics.",
                content: "<p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>Imagine a coin spinning on a table. Is it heads or tails? While it spins, it is both. This is the essence of superposition, and it will change encryption forever.</p>",
                featured: false
            },
             {
                id: 8,
                title: "Ocean Clean-up Milestones",
                category: "nature",
                author: "Boyan S.",
                date: "Oct 16, 2024",
                timeToRead: "7 min",
                image: "https://images.unsplash.com/photo-1484291470158-b8f8d608850d?q=80&w=2070&auto=format&fit=crop",
                excerpt: "The Great Pacific Garbage Patch is shrinking. Here are the numbers.",
                content: "<p class='mb-4 leading-relaxed text-stone-600 dark:text-stone-300'>System 002 has successfully removed 100,000kg of plastic. But the battle is just beginning. We need to stop the flow from rivers to truly win.</p>",
                featured: false
            }
        ];

        // --- State & Config ---
        let currentCategory = 'all';
        let searchOpen = false;

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', () => {
            // Handle Theme from local storage or preference
            if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }

            // Set Date
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            document.getElementById('current-date').innerText = new Date().toLocaleDateString('en-US', options);

            // Initial Render
            renderContent();

            // Remove Loader
            setTimeout(() => {
                const loader = document.getElementById('loader');
                loader.style.opacity = '0';
                setTimeout(() => loader.remove(), 500);
            }, 1000);
        });

        // --- Rendering Functions ---

        function renderContent() {
            const heroContainer = document.getElementById('hero-container');
            const gridContainer = document.getElementById('news-grid');
            
            // Clear current content
            heroContainer.innerHTML = '';
            gridContainer.innerHTML = '';

            // Filter Articles
            let filtered = articles;
            if (currentCategory !== 'all') {
                filtered = articles.filter(a => a.category === currentCategory);
            }

            if(filtered.length === 0) {
                document.getElementById('empty-state').classList.remove('hidden');
                return;
            } else {
                document.getElementById('empty-state').classList.add('hidden');
            }

            // Determine Hero (First valid featured article or just the first one)
            const heroArticle = filtered.find(a => a.featured) || filtered[0];
            const gridArticles = filtered.filter(a => a.id !== heroArticle.id);

            // Render Hero
            heroContainer.innerHTML = `
                <div class="relative w-full h-[60vh] md:h-[70vh] rounded-none md:rounded-2xl overflow-hidden group cursor-pointer shadow-lg" onclick="openModal(${heroArticle.id})">
                    <div class="absolute inset-0 img-zoom-container">
                        <img src="${heroArticle.image}" alt="${heroArticle.title}" class="w-full h-full object-cover">
                    </div>
                    <div class="absolute inset-0 bg-gradient-to-t from-black/90 via-black/40 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 md:p-12 max-w-3xl">
                        <span class="inline-block px-3 py-1 mb-4 text-xs font-bold tracking-widest uppercase text-white bg-amber-600 rounded-sm">
                            ${heroArticle.category}
                        </span>
                        <h1 class="text-3xl md:text-5xl lg:text-6xl font-serif font-bold text-white mb-4 leading-tight group-hover:text-amber-200 transition-colors">
                            ${heroArticle.title}
                        </h1>
                        <p class="text-stone-300 text-lg md:text-xl mb-6 line-clamp-2 font-light border-l-2 border-amber-500 pl-4">
                            ${heroArticle.excerpt}
                        </p>
                        <div class="flex items-center gap-4 text-sm text-stone-400 font-medium uppercase tracking-wider">
                            <span>${heroArticle.author}</span>
                            <span>•</span>
                            <span>${heroArticle.timeToRead} Read</span>
                        </div>
                    </div>
                </div>
            `;

            // Render Grid
            gridArticles.forEach((article, index) => {
                const delay = index * 100;
                const card = document.createElement('div');
                card.className = `card-hover group cursor-pointer flex flex-col gap-4 animate-fade-in`;
                card.style.animationDelay = `${delay}ms`;
                card.onclick = () => openModal(article.id);

                card.innerHTML = `
                    <div class="relative overflow-hidden rounded-xl aspect-[4/3] img-zoom-container">
                        <img src="${article.image}" alt="${article.title}" class="w-full h-full object-cover">
                        <div class="absolute top-3 right-3 bg-white/90 dark:bg-black/80 backdrop-blur text-xs font-bold px-3 py-1 uppercase tracking-widest rounded-sm shadow-sm">
                            ${article.category}
                        </div>
                    </div>
                    <div class="flex flex-col gap-2">
                        <div class="flex items-center gap-2 text-xs text-stone-500 font-medium uppercase tracking-wide">
                            <span class="text-amber-600">${article.date}</span>
                            <span>•</span>
                            <span>${article.timeToRead}</span>
                        </div>
                        <h3 class="text-xl font-serif font-bold leading-tight group-hover:text-amber-600 dark:group-hover:text-amber-500 transition-colors">
                            ${article.title}
                        </h3>
                        <p class="text-stone-600 dark:text-stone-400 text-sm line-clamp-2 leading-relaxed">
                            ${article.excerpt}
                        </p>
                    </div>
                `;
                gridContainer.appendChild(card);
            });
        }

        // --- Interaction Functions ---

        function filterNews(category) {
            currentCategory = category;
            
            // Update UI
            document.getElementById('category-title').innerText = category === 'all' ? 'Latest Stories' : category.charAt(0).toUpperCase() + category.slice(1);
            
            // Update Active Nav
            document.querySelectorAll('#navbar button').forEach(btn => {
                if (btn.innerText.toLowerCase() === category || (category === 'all' && btn.innerText.toLowerCase() === 'all')) {
                    btn.classList.add('text-amber-600');
                } else {
                    btn.classList.remove('text-amber-600');
                }
            });

            renderContent();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        function sortArticles(value) {
            if (value === 'newest') {
                articles.sort((a, b) => new Date(b.date) - new Date(a.date));
            } else {
                articles.sort((a, b) => new Date(a.date) - new Date(b.date));
            }
            renderContent();
        }

        function handleSearch(e) {
            const query = e.target.value.toLowerCase();
            if (query === '') {
                filterNews('all'); // Reset
                return;
            }

            const gridContainer = document.getElementById('news-grid');
            const heroContainer = document.getElementById('hero-container');
            
            // Clear for search results
            heroContainer.innerHTML = ''; 
            gridContainer.innerHTML = '';

            const results = articles.filter(a => 
                a.title.toLowerCase().includes(query) || 
                a.excerpt.toLowerCase().includes(query)
            );

            if (results.length === 0) {
                document.getElementById('empty-state').classList.remove('hidden');
            } else {
                document.getElementById('empty-state').classList.add('hidden');
                results.forEach(article => {
                    const card = document.createElement('div');
                    card.className = `card-hover group cursor-pointer flex flex-col gap-4`;
                    card.onclick = () => openModal(article.id);
                    card.innerHTML = `
                        <div class="relative overflow-hidden rounded-xl aspect-[4/3] img-zoom-container">
                            <img src="${article.image}" alt="${article.title}" class="w-full h-full object-cover">
                        </div>
                        <div class="flex flex-col gap-2">
                             <span class="text-xs font-bold uppercase tracking-widest text-amber-600">${article.category}</span>
                            <h3 class="text-xl font-serif font-bold leading-tight group-hover:text-amber-600 transition-colors">${article.title}</h3>
                        </div>
                    `;
                    gridContainer.appendChild(card);
                });
            }
        }

        function toggleSearch() {
            const bar = document.getElementById('search-bar');
            searchOpen = !searchOpen;
            if (searchOpen) {
                bar.classList.remove('hidden');
                document.getElementById('search-input').focus();
            } else {
                bar.classList.add('hidden');
            }
        }

        function toggleMobileMenu() {
            const menu = document.getElementById('mobile-menu');
            menu.classList.toggle('hidden');
        }

        function toggleTheme() {
            if (document.documentElement.classList.contains('dark')) {
                document.documentElement.classList.remove('dark');
                localStorage.theme = 'light';
            } else {
                document.documentElement.classList.add('dark');
                localStorage.theme = 'dark';
            }
        }

        // --- Modal Functions ---

        function openModal(id) {
            const article = articles.find(a => a.id === id);
            if (!article) return;

            const modal = document.getElementById('article-modal');
            const backdrop = document.getElementById('modal-backdrop');
            const panel = document.getElementById('modal-panel');
            const contentWrapper = document.getElementById('modal-content-wrapper');

            contentWrapper.innerHTML = `
                <div class="relative h-64 sm:h-96 w-full">
                    <img src="${article.image}" class="h-full w-full object-cover" alt="${article.title}">
                    <div class="absolute inset-0 bg-gradient-to-t from-stone-50 dark:from-zinc-900 to-transparent"></div>
                    <div class="absolute bottom-0 left-0 p-6 sm:p-10">
                        <span class="bg-amber-600 text-white px-2 py-1 text-xs font-bold uppercase tracking-widest rounded-sm mb-2 inline-block">${article.category}</span>
                        <h2 class="text-3xl sm:text-4xl font-serif font-bold text-stone-900 dark:text-white leading-tight">${article.title}</h2>
                    </div>
                </div>
                <div class="p-6 sm:p-10">
                    <div class="flex items-center justify-between border-b border-stone-200 dark:border-stone-800 pb-6 mb-6">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full bg-stone-200 dark:bg-stone-700 flex items-center justify-center text-lg font-serif font-bold text-stone-500">
                                ${article.author.charAt(0)}
                            </div>
                            <div>
                                <p class="text-sm font-bold text-stone-900 dark:text-white">${article.author}</p>
                                <p class="text-xs text-stone-500 uppercase tracking-wide">${article.date}</p>
                            </div>
                        </div>
                        <div class="flex gap-2">
                            <button class="p-2 rounded-full hover:bg-stone-100 dark:hover:bg-stone-800 transition-colors"><i class="ph ph-share-network text-xl"></i></button>
                            <button class="p-2 rounded-full hover:bg-stone-100 dark:hover:bg-stone-800 transition-colors"><i class="ph ph-bookmark-simple text-xl"></i></button>
                        </div>
                    </div>
                    <div class="prose dark:prose-invert max-w-none font-sans">
                        ${article.content}
                        <p class="mt-8 text-lg font-serif italic text-stone-500 text-center">***</p>
                    </div>
                </div>
            `;

            modal.classList.remove('hidden');
            // Small delay for animation to trigger
            setTimeout(() => {
                backdrop.classList.remove('opacity-0');
                panel.classList.remove('opacity-0', 'translate-y-4', 'scale-95');
                panel.classList.add('opacity-100', 'translate-y-0', 'scale-100');
            }, 10);
            
            document.body.style.overflow = 'hidden'; // Prevent background scroll
        }

        function closeModal() {
            const modal = document.getElementById('article-modal');
            const backdrop = document.getElementById('modal-backdrop');
            const panel = document.getElementById('modal-panel');

            backdrop.classList.add('opacity-0');
            panel.classList.remove('opacity-100', 'translate-y-0', 'scale-100');
            panel.classList.add('opacity-0', 'translate-y-4', 'scale-95');

            setTimeout(() => {
                modal.classList.add('hidden');
                document.body.style.overflow = 'auto';
            }, 300);
        }

        // Close on Escape key
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && !document.getElementById('article-modal').classList.contains('hidden')) {
                closeModal();
            }
        });
        
        // Navbar Blur Effect on Scroll
        window.addEventListener('scroll', () => {
            const nav = document.getElementById('navbar');
            if (window.scrollY > 50) {
                nav.classList.add('py-0');
            } else {
                nav.classList.remove('py-0');
            }
        });

    </script>
</body>
</html>